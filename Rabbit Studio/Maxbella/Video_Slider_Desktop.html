<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carrusel Desktop Texto Fijo Click</title>
  <link href="https://fonts.googleapis.com/css2?family=Literata&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Mouse+Memoirs&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-color: #2D1A0E;
      --text-color: #ffffff;
      --dot-active: #ffffff;
      --dot-inactive: #999999;
    }

    @media (min-width:769px) {
      .video-carousel-desktop {
        width: 100%;
        background: var(--bg-color); /* fondo marrón a todo el ancho */
        color: var(--text-color);
        padding: 1.25rem 0; /* menos alto vertical */
      }

      .video-carousel-inner {
        max-width: 1200px; /* aquí ajustas ancho máximo */
        margin: 0 auto;
        display: flex;
        align-items: center; /* centra verticalmente el panel de texto */
      }

      .text-panel {
        width: 40%;
        padding: 1.25rem; /* menos alto vertical */
        position: static; /* quitar sticky para centrar */
        top: auto;
        align-self: center; /* asegurar centrado vertical */
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .text-panel h3 {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
      }

      .text-panel p {
        font-size: 1rem;
        margin-bottom: 1rem;
      }

      .action-btn {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background-color: #e9ae22;
        color: #2D1A0E;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        cursor: pointer;
        width: auto;
        align-self: flex-start;
        text-decoration: none;
        font-weight: 600;
        font-family: 'Literata', serif;
      }

      .action-btn svg {
        width: 20px;
        height: 20px;
        object-fit: contain;
      }

      .carousel-container {
        width: 60%;
        overflow: hidden;
        padding-left: 1rem;
      }

      .carousel-title {
        font-size: 50px !important;
        margin: 0.3rem 0 0;
        color: var(--text-color);
        font-family: 'Mouse Memoirs', sans-serif;
      }

      .carousel-desc {
        font-size: 18px !important;
        margin: 0 0 0.3rem;
        color: var(--text-color);
        font-family: 'Open Sans', sans-serif !important;
      }

      .carousel-track {
        display: flex;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
        gap: 1rem;
        padding-bottom: 1rem;
      }

      .video-card {
        flex: 0 0 70%; /* menor tamaño horizontal -> menor altura del video */
        scroll-snap-align: center;
        position: relative;
        border-radius: 12px;
        cursor: pointer;
      }

      .video-wrapper {
        position: relative;
        width: 100%;
        aspect-ratio: 9/16;
        border-radius: 12px;
        overflow: hidden;
        background: #000;
        transition: transform 0.3s ease;
      }

      .video-wrapper video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }

      .video-wrapper::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0);
        transition: background 0.3s ease;
        border-radius: 12px;
        pointer-events: none;
      }

      .video-card.not-active .video-wrapper {
        transform: scale(0.95);
      }

      .video-card.not-active .video-wrapper::after {
        background: rgba(0, 0, 0, 0.3);
      }

      .carousel-indicators {
        display: flex;
        justify-content: center;
        gap: 6px;
        margin-top: 1rem;
      }

      .carousel-indicators span {
        display: block;
        width: 10px;
        height: 10px;
        background: var(--dot-inactive);
        border-radius: 50%;
        transition: background 0.3s;
      }

      .carousel-indicators .active {
        background: var(--dot-active);
      }
    }

    @media (max-width:768px) {
      .video-carousel-desktop {
        display: none;
      }
    }
  </style>
</head>

<body>

  <section class="video-carousel-desktop">
    <div class="video-carousel-inner">
      <!-- Panel de texto fijo -->
      <div class="text-panel" id="textPanel">
        <h3 id="videoTitle" class="carousel-title">Trusted by Many, Loved by All</h3>
        <p id="videoDesc" class="carousel-desc">The full flavor tour: seven single-ingredient treats, vacuum-sealed and
          ready for go-time.</p>
        <a href="#" class="action-btn" id="videoBtn">
          <svg id="btnIcon" class="m-svg-icon--medium" fill="#000000" stroke="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path d="M352 128C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128H0v304c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V128h-96zM224 48c44.112 0 80 35.888 80 80H144c0-44.112 35.888-80 80-80zm176 384c0 17.645-14.355 32-32 32H80c-17.645 0-32-14.355-32-32V176h48v40c0 13.255 10.745 24 24 24s24-10.745 24-24v-40h160v40c0 13.255 10.745 24 24 24s24-10.745 24-24v-40h48v256z"/>
          </svg>
          <span id="btnText">Grab Now</span>
        </a>
      </div>

      <!-- Carrusel de vídeos -->
      <div class="carousel-container">
        <div class="carousel-track" id="carouselTrackDesktop">
          <div class="video-card" data-title="Chicken Breast"
            data-desc="Pure energy in every strip—ideal for daily fuel and easy grab-and-go snacking."
            data-btn="Grab Now" data-link="https://iwantmaxbella.com/products/freeze-dried-chicken-breast"
            data-icon="https://cdn.shopify.com/s/files/1/0941/1457/8711/files/cart-icon.png?v=1758206708">
            <div class="video-wrapper">
              <video autoplay muted loop playsinline>
                <source src="https://cdn.shopify.com/videos/c/o/v/419890f35a6d460e86e1e2f38e4fd79e.mp4" type="video/mp4">
              </video>
            </div>
          </div>

          <div class="video-card" data-title="Chicken Hearts"
            data-desc="Taurine-rich crunchies that support heart health and make training moments effortless."
            data-btn="Grab Now" data-link="https://iwantmaxbella.com/products/freeze-dried-chicken-hearts"
            data-icon="https://cdn.shopify.com/s/files/1/0941/1457/8711/files/cart-icon.png?v=1758206708">
            <div class="video-wrapper">
              <video autoplay muted loop playsinline>
                <source src="https://cdn.shopify.com/videos/c/o/v/419890f35a6d460e86e1e2f38e4fd79e.mp4" type="video/mp4">
              </video>
            </div>
          </div>

          <div class="video-card" data-title="Beef Liver"
            data-desc="Packed with iron and vitamins for shiny coats, strong immunity, and a bold taste pets crave."
            data-btn="Grab Now" data-link="https://iwantmaxbella.com/products/freeze-dried-beef-liver"
            data-icon="https://cdn.shopify.com/s/files/1/0941/1457/8711/files/cart-icon.png?v=1758206708">
            <div class="video-wrapper">
              <video autoplay muted loop playsinline>
                <source src="https://cdn.shopify.com/videos/c/o/v/419890f35a6d460e86e1e2f38e4fd79e.mp4" type="video/mp4">
              </video>
            </div>
          </div>

          <div class="video-card" data-title="Salmon"
            data-desc="Omega-3 rich bites that keep skin glowing, joints moving, and lifestyles shining."
            data-btn="Grab Now" data-link="https://iwantmaxbella.com/products/freeze-dried-salmon"
            data-icon="https://cdn.shopify.com/s/files/1/0941/1457/8711/files/cart-icon.png?v=1758206708">
            <div class="video-wrapper">
              <video autoplay muted loop playsinline>
                <source src="https://cdn.shopify.com/videos/c/o/v/419890f35a6d460e86e1e2f38e4fd79e.mp4" type="video/mp4">
              </video>
            </div>
          </div>

          <div class="video-card" data-title="Capelin"
            data-desc="Calcium-loaded whole fish that strengthen bones and add foodie flair to treat time."
            data-btn="Grab Now" data-link="https://iwantmaxbella.com/products/freeze-dried-capelin"
            data-icon="https://cdn.shopify.com/s/files/1/0941/1457/8711/files/cart-icon.png?v=1758206708">
            <div class="video-wrapper">
              <video autoplay muted loop playsinline>
                <source src="https://cdn.shopify.com/videos/c/o/v/419890f35a6d460e86e1e2f38e4fd79e.mp4" type="video/mp4">
              </video>
            </div>
          </div>

          <div class="video-card" data-title="Antarctic Krill"
            data-desc="Antioxidant-rich minis with brain, heart, and coat benefits—portable and powerful."
            data-btn="Grab Now" data-link="https://iwantmaxbella.com/products/freeze-dried-antarctic-krill"
            data-icon="https://cdn.shopify.com/s/files/1/0941/1457/8711/files/cart-icon.png?v=1758206708">
            <div class="video-wrapper">
              <video autoplay muted loop playsinline>
                <source src="https://cdn.shopify.com/videos/c/o/v/419890f35a6d460e86e1e2f38e4fd79e.mp4" type="video/mp4">
              </video>
            </div>
          </div>

          <div class="video-card" data-title="The Whole Pack"
            data-desc="Six proteins designed for rotation—keeping nutrition balanced, cravings fresh, and discovery ongoing."
            data-btn="Grab Now" data-link="https://iwantmaxbella.com/products/the-whole-pack"
            data-icon="https://cdn.shopify.com/s/files/1/0941/1457/8711/files/cart-icon.png?v=1758206708">
            <div class="video-wrapper">
              <video autoplay muted loop playsinline>
                <source src="https://cdn.shopify.com/videos/c/o/v/419890f35a6d460e86e1e2f38e4fd79e.mp4" type="video/mp4">
              </video>
            </div>
          </div>
        </div>
        <div class="carousel-indicators" id="carouselIndicatorsDesktop"></div>
      </div>
    </div>
  </section>

  <script>
    const trackDesktop = document.getElementById('carouselTrackDesktop');
    const indicatorsContainerDesktop = document.getElementById('carouselIndicatorsDesktop');
    const titleEl = document.getElementById('videoTitle');
    const descEl = document.getElementById('videoDesc');
    const btnEl = document.getElementById('videoBtn');
    const btnTextEl = document.getElementById('btnText');

    let cardsDesktop = [...trackDesktop.children];

    // clonar primeras para bucle
    cardsDesktop.slice(0, 7).forEach(c => trackDesktop.appendChild(c.cloneNode(true)));

    // indicadores
    cardsDesktop.forEach((_, i) => {
      const dot = document.createElement('span');
      if (i === 0) dot.classList.add('active');
      indicatorsContainerDesktop.appendChild(dot);
    });

    const dotsDesktop = [...indicatorsContainerDesktop.children];

    function updateActiveCardDesktop() {
      const trackRect = trackDesktop.getBoundingClientRect();
      const center = trackRect.left + trackRect.width / 2;

      [...trackDesktop.children].forEach(card => {
        const rect = card.getBoundingClientRect();
        const cardCenter = rect.left + rect.width / 2;
        const distance = Math.abs(center - cardCenter);
        if (distance < rect.width / 2) {
          card.classList.remove('not-active');
          // actualiza panel
          titleEl.textContent = card.dataset.title;
          descEl.textContent = card.dataset.desc;
          btnTextEl.textContent = card.dataset.btn || 'Comprar';
          btnEl.href = card.dataset.link || '#';
        } else {
          card.classList.add('not-active');
        }
      });
    }

    trackDesktop.addEventListener('scroll', () => {
      const cardWidth = cardsDesktop[0].getBoundingClientRect().width + 16;
      let scrollIndex = Math.round(trackDesktop.scrollLeft / cardWidth) % cardsDesktop.length;
      dotsDesktop.forEach(d => d.classList.remove('active'));
      dotsDesktop[scrollIndex].classList.add('active');
      updateActiveCardDesktop();
    });

    updateActiveCardDesktop();

    // clic para centrar
    [...trackDesktop.children].forEach((card, index) => {
      card.addEventListener('click', () => {
        const cardWidth = cardsDesktop[0].getBoundingClientRect().width + 16;
        trackDesktop.scrollTo({
          left: index * cardWidth,
          behavior: 'smooth'
        });
      });
    });
  </script>

</body>

</html>

